apply plugin: 'java'
sourceSets {
   main {
      java {
         srcDir 'src'
      }
   }
	
   test {
      java {
         srcDir 'test'
      }
   }
}
repositories {
   jcenter()
}

dependencies {
   compile 'org.slf4j:slf4j-api:1.7.12'
   testCompile 'junit:junit:4.12'
}

task copyToLib( type: Copy ) {
    into "$buildDir/libs/lib"
    from configurations.runtime
}

jar { dependsOn copyToLib }

/*
jar {
   manifest {
      attributes 'Main-Class': 'com.inimbus.jarB.ClassB'
   	}
   }
 */  
 
task fatJar(type: Jar) {
	manifest {
        attributes 'Implementation-Title': 'Gradle Jar File Example',  
        	'Implementation-Version': '0.0.1',
        	'Main-Class': 'com.inimbus.jarB.ClassB'
    }
    baseName =  'jarB'
    from { configurations.compile.collect { it.isDirectory() ? it : zipTree(it) } }
    with jar
}
